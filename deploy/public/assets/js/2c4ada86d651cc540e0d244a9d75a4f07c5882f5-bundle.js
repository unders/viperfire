/*
 (c) 2017 Andrea Giammarchi @WebReflection, (ISC)  Copyright (c) 2017, Andrea Giammarchi, @WebReflection  (C) 2017 Andrea Giammarchi - @WebReflection - ISC License */
'use strict';(function(M){function z(e){if(k[e])return k[e].exports;var g=k[e]={i:e,l:!1,exports:{}};M[e].call(g.exports,g,g.exports,z);g.l=!0;return g.exports}var k={};z.m=M;z.c=k;z.d=function(e,g,a){z.o(e,g)||Object.defineProperty(e,g,{configurable:!1,enumerable:!0,get:a})};z.n=function(e){var g=e&&e.__esModule?function(){return e["default"]}:function(){return e};z.d(g,"a",g);return g};z.o=function(e,g){return Object.prototype.hasOwnProperty.call(e,g)};z.p="";return z(z.s=0)})([function(M,z){(function(k){function e(a){if(g[a])return g[a].exports;
var d=g[a]={i:a,l:!1,exports:{}};k[a].call(d.exports,d,d.exports,e);d.l=!0;return d.exports}var g={};e.m=k;e.c=g;e.d=function(a,d,b){e.o(a,d)||Object.defineProperty(a,d,{configurable:!1,enumerable:!0,get:b})};e.n=function(a){var d=a&&a.__esModule?function(){return a["default"]}:function(){return a};e.d(d,"a",d);return d};e.o=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)};e.p="";return e(e.s=19)})([function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});var a=g(23);e.wire=
function(d,b){return a.wire(d,b)};e.bind=function(d){return a.bind(d)}},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function d(){}d.profile=function(b){return"/profile/"+b};d.nextArticles=function(b){var h={hasMore:!1,nextArticlesPath:"#"};return b&&""!==b?{hasMore:!0,nextArticlesPath:a.articles+"?page_token="+b}:h};d.article=function(b){return"/article/"+b};d.profileReqExp="/profile/:id";d.about="/about";d.articles="/";d.articleRegExp="/article/:id";d.error=
"/error";return d}();e.path=a},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});k=function(){function a(){}a.pageProgressBar="viperfire-progress-bar";a.errHighlight="error-highlight";a.highlight="highlight";a.error="error";a.hide="hide";a.show="show";a.empty="";a.neutral="";a.loading="loading";a.done="done";a.blink="blink";a.slideInBottom="slide-in-bottom";a.slideOutBottom="slide-out-bottom";return a}();e.css=k},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});k=function(){function b(){}
b.ago=function(b){b||(b=Date.now());return new d(b)};return b}();e.time=k;var a=[{name:"second",limit:60,in_seconds:1},{name:"minute",limit:3600,in_seconds:60},{name:"hour",limit:86400,in_seconds:3600},{name:"day",limit:604800,in_seconds:86400},{name:"week",limit:2629743,in_seconds:604800},{name:"month",limit:31556926,in_seconds:2629743},{name:"year",limit:null,in_seconds:31556926}],d=function(){function b(b){this.now=b}b.prototype.time=function(b){var l=(this.now-b)/1E3;if(0>l)return"future";if(5>
l)return"now";for(var m=0;m<a.length;m++)if(b=a[m],!b.limit||l<b.limit)return l=Math.floor(l/b.in_seconds),b=b.name,1<l&&(b+="s"),l+" "+b+" ago"};return b}();e.Ago=d},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});var a=g(11),d=g(8),b=g(9);k=function(){function h(l){this.isPresenter=!0;this.path=this.title="";this.auth=d.Auth.hide;this.snackbar=new b.HiddenSnackbar(1);this.popup=new a.HiddenPopup;this.pageLoader=l.pageLoader;this.currentUser=l.currentUser;this.ago=l.ago}h.prototype.toJSON=
function(){throw"must be implemented in subclass.";};h.prototype.init=function(b){this.title=b.title;this.path=b.path};return h}();e.Presenter=k},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});k=function(){function a(){}a.openSnackbar="openSnackbar";a.openPopup="openPopup";a.closeAuth="closeAuth";a.closeSnackbar="closeSnackbar";a.closePopup="closePopup";a.signUpOptions="signUpOptions";a.signUpWithEmail="signUpWithEmail";a.signInOptions="signInOptions";a.signInWithGoogle="signInWithGoogle";
a.signInWithFacebook="signInWithFacebook";a.signInWithTwitter="signInWithTwitter";a.signInWithEmail="signInWithEmail";a.signOut="signOut";return a}();e.onClick=k},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});var a=g(36);k=function(){function d(){}d.parseIdToken=function(b){try{return{claims:{admin:JSON.parse(a.base64.decodeUnicode(b.split(".")[1]))[d.adminClaim]},err:null}}catch(h){return{claims:d.defaultClaims,err:h.message}}};d.withClaims=function(b,a){return{signedIn:b.signedIn,
uid:b.uid,name:b.name,email:b.email,claims:a}};d.signedOut=function(){return{signedIn:!1,uid:"",name:"",email:"",claims:d.defaultClaims}};d.fromFirebase=function(b){return{signedIn:!0,uid:b.uid,name:b.displayName||"",email:b.email||"",claims:d.defaultClaims}};d.adminClaim="admin";d.defaultClaims={admin:!1};return d}();e.userBuilder=k},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});var a=g(1),d=g(10),b=g(12),h=g(13),l=g(14),m=g(15);(function(b){b[b.Neutral=0]="Neutral";b[b.Loading=
1]="Loading";b[b.Done=2]="Done"})(e.PageLoader||(e.PageLoader={}));e.getPresenter=function(){try{var b=JSON.parse(window.__INITIAL_STATE__);return f(b)}catch(q){return{presenter:null,errMessage:q.message}}};var f=function(f){try{switch(f.path){case a.path.articles:return{presenter:h.ArticleListPresenter.Init(f),errMessage:""};case a.path.articleRegExp:return{presenter:l.ArticlePresenter.Init(f),errMessage:""};case a.path.profileReqExp:return{presenter:d.ProfilePresenter.Init(f),errMessage:""};case a.path.about:return{presenter:b.AboutPresenter.Init(f),
errMessage:""};case a.path.error:return{presenter:m.ErrorPresenter.Init(f),errMessage:""};default:return{presenter:null,errMessage:f.path+" not found"}}}catch(q){return{presenter:null,errMessage:q.message}}}},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});k=e.Auth||(e.Auth={});k.hide="hide";k.signUpOptions="signUpOptions";k.signUpWithEmail="signUpWithEmail";k.signInOptions="signInOptions";k.signInWithEmail="signInWithEmail"},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});
var a;(function(a){a.slideIN="slide-in";a.blink="blink";a.clear="clear";a.slideOut="slide-out";a.hide="hide"})(a=e.state||(e.state={}));k=function(){return function(d){this.state=a.hide;this.text="";this.showAction=!1;this.action=this.actionText="";this.version=d}}();e.HiddenSnackbar=k;k=function(){return function(d){this.version=0;this.state=a.hide;this.showAction=!1;this.action=this.actionText="";this.text="You are signed in as "+d.email}}();e.SignedInSnackbar=k;k=function(){return function(d){this.version=
0;this.state=a.hide;this.showAction=!0;this.text=d.text;this.actionText=d.actionText;this.action=d.action}}();e.ActionSnackbar=k},function(k,e,g){var a=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,m){b.__proto__=m}||function(b,m){for(var f in m)m.hasOwnProperty(f)&&(b[f]=m[f])};return function(a,m){function f(){this.constructor=a}b(a,m);a.prototype=null===m?Object.create(m):(f.prototype=m.prototype,new f)}}();Object.defineProperty(e,"__esModule",
{value:!0});var d=g(1),b=g(3);k=function(h){function l(b){var f=h.call(this,b)||this;h.prototype.init.call(f,{title:"Profile",path:d.path.profileReqExp});f.userProfile=b.userProfile;return f}a(l,h);l.Next=function(a,f){return new l({pageLoader:a.pageLoader,currentUser:a.currentUser,ago:b.time.ago(),userProfile:f})};l.Init=function(a){return new l({pageLoader:a.pageLoader,currentUser:a.currentUser,ago:b.time.ago(),userProfile:a.userProfile})};l.prototype.toJSON=function(){return JSON.stringify(this.toObject())};
l.prototype.toObject=function(){return{pageLoader:this.pageLoader,title:this.title,isPresenter:this.isPresenter,path:this.path,currentUser:this.currentUser,userProfile:this.userProfile}};return l}(g(4).Presenter);e.ProfilePresenter=k},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});var a='<button type="btn" data-action="'+g(5).onClick.closePopup+'" tabindex="1">ok</button>';k=function(){return function(){this.show=!1;this.main=this.title="";this.footer=a}}();e.HiddenPopup=k;k=function(){return function(d){this.show=
!0;this.footer=a;this.title=d.title;this.main="<p>"+d.main+"</p>"}}();e.ErrorPopup=k},function(k,e,g){var a=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var f in a)a.hasOwnProperty(f)&&(b[f]=a[f])};return function(a,m){function f(){this.constructor=a}b(a,m);a.prototype=null===m?Object.create(m):(f.prototype=m.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0});var d=g(1),b=g(3);k=function(h){function l(b){b=
h.call(this,b)||this;h.prototype.init.call(b,{title:"About",path:d.path.about});return b}a(l,h);l.Next=function(a){return new l({pageLoader:a.pageLoader,currentUser:a.currentUser,ago:b.time.ago()})};l.Init=function(a){return new l({pageLoader:a.pageLoader,currentUser:a.currentUser,ago:b.time.ago()})};l.prototype.toJSON=function(){return JSON.stringify(this.toObject())};l.prototype.toObject=function(){return{pageLoader:this.pageLoader,title:this.title,isPresenter:this.isPresenter,path:this.path,currentUser:this.currentUser}};
return l}(g(4).Presenter);e.AboutPresenter=k},function(k,e,g){var a=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var f in a)a.hasOwnProperty(f)&&(b[f]=a[f])};return function(a,d){function f(){this.constructor=a}b(a,d);a.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0});var d=g(1),b=g(3);k=function(h){function l(b){var a=h.call(this,
b)||this;h.prototype.init.call(a,{title:"Articles",path:d.path.articles});a.articleList=b.articleList;return a}a(l,h);l.Next=function(a,f){return new l({pageLoader:a.pageLoader,currentUser:a.currentUser,ago:b.time.ago(),articleList:f})};l.Init=function(a){return new l({pageLoader:a.pageLoader,currentUser:a.currentUser,ago:b.time.ago(),articleList:a.articleList})};l.prototype.toJSON=function(){return JSON.stringify(this.toObject())};l.prototype.toObject=function(){return{pageLoader:this.pageLoader,
title:this.title,isPresenter:this.isPresenter,path:this.path,currentUser:this.currentUser,articleList:this.articleList}};return l}(g(4).Presenter);e.ArticleListPresenter=k},function(k,e,g){var a=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var f in a)a.hasOwnProperty(f)&&(b[f]=a[f])};return function(a,d){function f(){this.constructor=a}b(a,d);a.prototype=null===d?Object.create(d):(f.prototype=d.prototype,
new f)}}();Object.defineProperty(e,"__esModule",{value:!0});var d=g(1),b=g(3);k=function(h){function l(b){var a=h.call(this,b)||this;h.prototype.init.call(a,{title:"Article",path:d.path.articleRegExp});a.article=b.article;return a}a(l,h);l.Next=function(a,f){return new l({pageLoader:a.pageLoader,currentUser:a.currentUser,ago:b.time.ago(),article:f})};l.Init=function(a){return new l({pageLoader:a.pageLoader,currentUser:a.currentUser,ago:b.time.ago(),article:a.article})};l.prototype.toJSON=function(){return JSON.stringify(this.toObject())};
l.prototype.toObject=function(){return{pageLoader:this.pageLoader,title:this.title,isPresenter:this.isPresenter,path:this.path,currentUser:this.currentUser,article:this.article}};return l}(g(4).Presenter);e.ArticlePresenter=k},function(k,e,g){var a=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var f in a)a.hasOwnProperty(f)&&(b[f]=a[f])};return function(a,d){function f(){this.constructor=a}b(a,d);a.prototype=
null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0});var d=g(1),b=g(3);k=function(h){function l(b){var a=h.call(this,b)||this;h.prototype.init.call(a,{title:b.title,path:d.path.error});a.message=b.message;return a}a(l,h);l.FromCode=function(a,f){switch(a){case 404:return new l({pageLoader:f.pageLoader,currentUser:f.currentUser,ago:b.time.ago(),title:"Not Found",message:"Page Not Found"});default:return new l({pageLoader:f.pageLoader,currentUser:f.currentUser,
ago:b.time.ago(),title:"Internal Error",message:"Internal Error"})}};l.Init=function(a){return new l({pageLoader:a.pageLoader,currentUser:a.currentUser,ago:b.time.ago(),title:a.title,message:a.message})};l.prototype.toJSON=function(){return JSON.stringify(this.toObject())};l.prototype.toObject=function(){return{pageLoader:this.pageLoader,title:this.title,isPresenter:this.isPresenter,path:this.path,currentUser:this.currentUser,message:this.message}};return l}(g(4).Presenter);e.ErrorPresenter=k},function(k,
e){k.exports=firebase},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});k=function(){function a(){}a.profile=function(d){return a.profiles+"/"+d};a.error=function(d){return a.errors+"/"+d};a.article=function(d){return a.articles+"/"+d};a.profiles="profiles";a.errors="errors";a.articles="articles";return a}();e.path=k},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});var a;(function(a){a[a.OK=200]="OK";a[a.InternalError=500]="InternalError";a[a.NotFound=404]="NotFound"})(a=
e.statusCode||(e.statusCode={}));e.domainNotFound=function(d){return{code:a.NotFound,err:d+" Not Found"}};e.domainInternalError=function(d,b){return{code:a.InternalError,err:d+" Internal Error="+b}}},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});var a=g(20),d=g(7),b=g(35),h=g(37),l=g(44);e=g(46);k=g(48);g=g(49);a=a.getClientConfig();b=b.log(a.isOnline);b.info("init app start");var m=document.getElementById("app");if(m){var f=d.getPresenter();d=f.presenter;f=f.errMessage;if(null===
d)b.error("getPresenter() failed; error="+f);else{h=new h.Domain({logger:b});var n=h.auth().currentUser().getFromCache();f=n.currentUser;n=n.err;null===f?b.info("auth().currentUser().getFromCache() failed; reason="+n):d.currentUser=f;l=new l.Page({view:a.view,body:m,presenter:d,logger:b});l.render();e=new e.App({domain:h,page:l,logger:b});new k.ActionHandler({app:e,domain:h,logger:b});g.router(e);b.info("init app done")}}else b.error("could not find id: #app")},function(k,e,g){Object.defineProperty(e,
"__esModule",{value:!0});var a=g(21),d=g(30),b=g(31),h=g(32),l=g(33),m=g(34);e.getServerConfig=function(){return f()};e.getClientConfig=function(){return f()};var f=function(){var f={header:new h.HeaderView({logo:{name:"Viperfire",url:"/"}}),articleList:new d.ArticleListView,about:new b.AboutView({hyperLink:{name:"HyperHTML",url:"https://github.com/WebReflection/hyperHTML"},viperLink:{name:"ViperHTML",url:"https://github.com/WebReflection/viperhtml"},links:[{name:"HyperHTML",url:"https://github.com/WebReflection/hyperHTML"},
{name:"ViperHTML",url:"https://github.com/WebReflection/viperhtml"}]}),footer:new l.FooterView({links:[{name:"Home",url:"/"},{name:"About",url:"/about"}]})};return{isOnline:m.env.online,view:new a.View(f)}}},function(k,e,g){var a=this&&this.__makeTemplateObject||function(b,a){Object.defineProperty?Object.defineProperty(b,"raw",{value:a}):b.raw=a;return b};Object.defineProperty(e,"__esModule",{value:!0});var d=g(22),b=g(24),h=g(25),l=g(26),m=g(27),f=g(28),n=g(29);k=function(){function c(a){this.auth=
new n.AuthView;this.pageLoader=new d.PageLoaderView;this.snackbar=new b.SnackbarView;this.popup=new h.PopupView;this.article=new l.ArticleView;this.profile=new m.ProfileView;this.error=new f.ErrorView;this.header=a.header;this.footer=a.footer;this.articleList=a.articleList;this.about=a.about}c.prototype.renderArticleList=function(a,b){return this.render(a,b,this.articleList.render(b))};c.prototype.renderArticle=function(a,b){return this.render(a,b,this.article.render(b))};c.prototype.renderProfile=
function(b,a){return this.render(b,a,this.profile.render(a))};c.prototype.renderAbout=function(a,b){return this.render(a,b,this.about.render())};c.prototype.renderError=function(a,b){return this.render(a,b,this.error.render(b))};c.prototype.render=function(b,f,c){return b(q||(q=a('\n            ;\n            ;\n            ;\n            ;\n            <div class="container">\n                <header>;</header>\n                <main>;</main>\n                <footer>;</footer>\n            </div>\n        '.split(";"),
'\n            ;\n            ;\n            ;\n            ;\n            <div class="container">\n                <header>;</header>\n                <main>;</main>\n                <footer>;</footer>\n            </div>\n        '.split(";"))),[this.pageLoader.render(f)],[this.popup.render(f)],[this.snackbar.render(f)],[this.auth.render(f)],[this.header.render(f)],[c],[this.footer.render(f)])};return c}();e.View=k;var q},function(k,e,g){var a=this&&this.__makeTemplateObject||function(b,a){Object.defineProperty?
Object.defineProperty(b,"raw",{value:a}):b.raw=a;return b};Object.defineProperty(e,"__esModule",{value:!0});var d=g(0),b=g(7),h=g(2);k=function(){function e(){this.html=d.wire(this)}e.prototype.render=function(f){var d=h.css.pageProgressBar,e="background-progress-bar";f.pageLoader===b.PageLoader.Loading&&(e=e+" "+h.css.loading,d=d+" "+h.css.loading);f.pageLoader===b.PageLoader.Done&&(e=e+" "+h.css.done,d=d+" "+h.css.done);return this.html(l||(l=a(['\n            <div class="','"></div>\n            <div class="',
'">\n            </div>\n        '],['\n            <div class="','"></div>\n            <div class="','">\n            </div>\n        '])),e,d)};return e}();e.PageLoaderView=k;var l},function(k,e){e=function(e,a){function d(a){return 2>arguments.length?null==a?H("html"):"string"==typeof a?h(null,a):"raw"in a?H("html")(a):"nodeType"in a?b(a):ha(a,"html"):("raw"in a?H("html"):h).apply(null,arguments)}function b(a){return f.bind(a)}function h(a,b){return 1>arguments.length?H("html"):null==a?H(b||"html"):
ha(a,b||"html")}function l(){}function g(b,f){return this.node=b,this.childNodes=f,a.aura(this,f)}function f(a){var b=W.get(this);return b&&b.template===N(a)?X.apply(b.updates,arguments):ya.apply(this,arguments),this}function n(a,b,f){var d,c,p,e=a.ownerElement,h="data"===f,l=!h&&/^on/.test(f),n=h||y(e,f)&&!za.test(f),q=l?f.slice(2):"",v=n||l,C=n&&(h||f in e);return(l||C)&&(b.push(e,f),l&&(q===K||q===Y?ia.add(e):f.toLowerCase()in e&&(q=q.toLowerCase()))),n&&(C||(p=O.get(e),p||(p={_:Object.create(null),
$:function(){O.delete(e);for(var a in this._)this._[a].$()}},O.set(e,p)),p._[f]={_:null,$:function(){C=!0;c(this._)}}),c=function(b){C?d!==b&&(d=b,e[f]!==b&&(null==b?(e[f]=null,e.removeAttribute(f)):e[f]=b)):(a.value=b,p._[f]._=b,f in e&&p.$())}),l?function(a){d!==a&&(d&&e.removeEventListener(q,d,!1),d=a,a&&e.addEventListener(q,a,!1))}:n?c:function(b){d!==b&&(d=b,a.value!==b&&(null==b?v||(v=!0,e.removeAttributeNode(a)):(a.value=b,v&&(v=!1,e.setAttributeNode(a)))))}}function q(a){var b;return function(f){f!==
b&&(b=f,a.textContent=f)}}function c(a,b,f){var d;return function A(c){switch(typeof c){case "string":case "number":case "boolean":var p=b.length;1===p&&b[0].nodeType===Z?d!==c&&(d=c,b[0].textContent=c):(d=c,p?f.splice(0,p,a.ownerDocument.createTextNode(c)):b[0]=a.parentNode.insertBefore(a.ownerDocument.createTextNode(c),a));break;case "function":A(c(a.parentNode,b,0));break;case "object":case "undefined":if(null==c){d=c;A("");break}c instanceof l&&(c=c.render());default:if(d=c,ja(c))if(p=c.length,
0===p)f.splice(0);else switch(typeof c[0]){case "string":case "number":case "boolean":A({html:c});break;case "function":for(var e=a.parentNode,h=0;h<p;h++)c[h]=c[h](e,b,h);A(c.concat.apply([],c));break;case "object":ja(c[0])&&(c=c.concat.apply([],c));p=c[0];if(null!=p&&"then"in p){Promise.all(c).then(A);break}h=0;for(p=c.length;h<p;h++)c[h]instanceof l&&(c[h]=c[h].render());default:E(f,c)}else"ELEMENT_NODE"in c?E(f,c.nodeType===ka?F.call(c.childNodes):[c]):null!=c&&"then"in c?c.then(A):"placeholder"in
c?(A(c.placeholder),"text"in c?Promise.resolve(c.text).then(String).then(A):"any"in c?Promise.resolve(c.any).then(A):"html"in c?Promise.resolve(c.html).then(k).then(A):Promise.resolve(t(c,A)).then(A)):"text"in c?A(String(c.text)):"any"in c?A(c.any):"html"in c?(c=[].concat(c.html).join(""),f.splice(0),c=(T in a?U:w)(a,c.replace(la,ma)),b.push.apply(b,c.childNodes),a.parentNode.insertBefore(c,a)):A("length"in c?F.call(c):t(c,A))}}}function p(a,b,c){for(var f,d=a.childNodes,e=d.length,h=0;h<e;h++)switch(f=
d[h],f.nodeType){case I:for(var l,q=void 0,n=void 0,v=void 0,g=f,u=b,C=c,k=Object.create(null),w=g.attributes,m=0,D=w.length;m<D;m++)l=w[m],l.value===G&&(v=l.name,v in k?(g.removeAttributeNode(l),k[v].value="",g.setAttributeNode(k[v]),D--,m--):(n=C.shift().replace(/^(?:|[\S\s]*?\s)(\S+?)=['"]?$/,"$1"),q=g.attributes,k[v]=q[n]||q[n.toLowerCase()],u.push(x("attr",k[v],n))));p(f,b,c);break;case na:f.textContent===G&&(c.shift(),b.push(x("any",f)));break;case Z:Aa.test(a.nodeName)&&oa.call(f.textContent)===
V&&(c.shift(),b.push(x("text",a)))}}function v(a){return Ba[a]}function k(a){return{html:a}}function w(a,b){var c,f=a.ownerDocument;a=f.createElement(/<(a-\w+)[\s\S]*?>[\s\S]*?<\/\1>/.test(b)?"div":"template");var d="content"in a,p=!1;(d||(c=f.createDocumentFragment(),p=/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(b)),p)?(f=RegExp.$1,a.innerHTML="<table>"+b+"</table>",P(c,F.call(a.querySelectorAll(f)))):(a.innerHTML=b,d?c=a.content:P(c,F.call(a.childNodes)));return c}function U(a,b){var c=
a.ownerDocument;a=c.createDocumentFragment();Q||aa?(c=c.createElement("div"),c.innerHTML='<svg xmlns="'+ba+'">'+b+"</svg>",P(a,F.call(c.firstChild.childNodes))):(c=c.createElementNS(ba,"svg"),c.innerHTML=b,P(a,F.call(c.childNodes)));return a}function u(a,b){for(var c,f,d=b===K,p=0,e=a.length;p<e;p++)f=a[p],f.nodeType===I&&(c=r(f,d,b,c))}function r(a,b,c,f){if(ia.has(a))a.dispatchEvent(f||(f=new pa(c)));else if(b&&O.has(a))O.get(a).$();else{a=L(a);for(var d=0,p=a.length;d<p;d++)f=r(a[d],b,c,f)}return f}
function y(a,b){var c=!(T in a);if(c&&/-/.test(a.nodeName)){var f=d.document;(f=(f=f.customElements||f.defaultView.customElements)&&f.get(a.nodeName.toLowerCase()))&&(a=f.prototype)}return c&&b in a}function t(a,b){for(var c,f=0,d=ca.length;f<d;f++)if(c=ca[f],a.hasOwnProperty(c))return da[c](a[c],b)}function B(a,b){var c="_"+a+"$";return{get:function(){return this[c]||(this[a]=b.call(this,a))},set:function(a){Ca(this,c,{configurable:!0,value:a})}}}function E(b,c){var f=0,p=b.length;if(c.length!==
p)a(b,c,d.MAX_LIST_SIZE);else for(;f<p--;f++)if(b[p]!==c[p]||b[f]!==c[f])return void a(b,c,d.MAX_LIST_SIZE)}function z(a){for(var b=0,c=a.length;b<c;b++)a[b++].removeAttribute(a[b])}function R(a,b,f,d){switch(a.type){case "any":var p=c(b,d,new g(b,d));break;case "attr":p=n(b,f,a.name);break;case "text":p=q(b)}return p}function x(a,b,c){var f=[];switch(b.nodeType){case I:case ka:var d=b;break;case na:d=b.parentNode;f.unshift("childNodes",f.indexOf.call(d.childNodes,b));break;default:d=b.ownerElement,
f.unshift("attributes",b.name)}for(b=d;d=d.parentNode;b=d)f.unshift("children",f.indexOf.call(L(d),b));return{type:a,path:f,name:c}}function M(a){var b="_"+a.join(V);return qa[b]||(qa[b]=a)}function ra(a,b){var c=b.previousSibling;c&&c.nodeType===Z&&(a.removeChild(c),ra(a,b))}function X(){for(var a=1,b=arguments.length;a<b;a++)this[a-1](arguments[a])}function ya(a){a=N(a);var b;if(!(b=sa.get(a))){b=a;var c=[];var f=b.join(V);f=(T in this?U:w)(this,f.replace(la,ma));var d={fragment:f,paths:c};b=(p(f,
c,b.slice()),sa.set(b,d),d)}c=b;if(ea){b=ta(c.fragment);c=c.paths;d=[];for(var e=[],h=0,l=c.length;h<l;h++)f=c[h],d[h]=R(f,fa(b,f.path),e,[]);c=(z(e),d);W.set(this,{template:a,updates:c});X.apply(c,arguments);this.textContent="";this.appendChild(b)}else{b=c.fragment;c=c.paths;d=[];e=[];h=0;for(l=c.length;h<l;h++){f=[];var n=c[h];var q=h,v=n,g=this,u=b,k=f,m=g,D=g.ownerDocument;n=n.path;for(var r=fa(u,n),C=0,y=n.length;C<y;C++)switch(n[C++]){case "attributes":m=r.name;g.hasAttribute(m)||g.setAttribute(m,
"");m=g.attributes[m];break;case "childNodes":var t=L(g),E=L(r.parentNode),B=(m=Da(r))?n.indexOf.call(E,m)+1:-1,x=(m=ua(r))?n.indexOf.call(E,m):-1;switch(m=D.createComment(G),!0){case 0>x:x=t.length;break;case 0>B:B=0;default:x=-(E.length-x)}k.push.apply(k,F.call(t,B,x));k.length?(t=g,x=m,(E=ua(k[k.length-1]))?t.insertBefore(x,E):t.appendChild(x)):(E=g,B=m,(t=F.call(t,x)[0])?E.insertBefore(B,t):E.appendChild(B));0===k.length&&ra(g,m);break;default:g=m=L(g)[n[C]]||g.appendChild(g.ownerDocument.createElement(fa(u,
n.slice(0,C+1)).nodeName))}d[q]=R(v,m,e,f)}c=(z(e),d);W.set(this,{template:a,updates:c});X.apply(c,arguments)}}function H(a){function c(c){l=c.createDocumentFragment();h="svg"===a?c.createElementNS(ba,"svg"):l;n=b(h)}function f(){if(q){q=!1;"svg"===a&&P(l,F.call(h.childNodes));for(var b,c=[],f=l.childNodes,d=0,p=f.length;d<p;d++)b=f[d],b.nodeType!==I&&0===oa.call(b.textContent).length||c.push(b);e=1===c.length?c[0]:c}return e}var p,e,h,l,n,q,g;return"adopt"===a?function(b){var e=arguments;return b=
N(b),g!==b&&(q=!0,g=b,p=function(b,p,g){return q&&(g<p.length?(h=p[g],l={ownerDocument:h.ownerDocument,childNodes:[h],children:[h]},n=d.adopt(l)):(T in b&&(a="svg"),c(b.ownerDocument))),n.apply(null,e),f()}),p}:function(a){return a=N(a),g!==a&&(q=!0,g=a,c(d.document)),n.apply(null,arguments),f()}}function ha(a,b){var c=va.get(a),f=b.indexOf(":"),d=b;return-1<f&&(d=b.slice(f+1),b=b.slice(0,f)||"html"),c||(c={},va.set(a,c)),c[d]||(c[d]=H(b))}d.document=e;d.hyper=d;d.adopt=function(a){return function(){return ea=
!1,f.apply(a,arguments),ea=!0,a}};d.bind=b;d.define=function(a,b){a in da||ca.push(a);da[a]=b};d.escape=function(a){return a.replace(/[&<>'"]/g,v)};d.wire=h;d.Component=l;Object.defineProperties(l.prototype,{handleEvent:{value:function(a){var b=a.currentTarget;this["getAttribute"in b&&b.getAttribute("data-call")||"on"+a.type](a)}},html:B("html",H),svg:B("svg",H),state:B("state",function(){return this.defaultState}),defaultState:{get:function(){return{}}},setState:{value:function(a){var b=this.state;
a="function"==typeof a?a.call(this,b):a;for(var c in a)b[c]=a[c];this.render()}}});var I=1,Z=3,na=8,ka=11,T="ownerSVGElement",ba="http://www.w3.org/2000/svg",za=/^style$/i,Aa=/^style|textarea$/i,G="_hyper: "+(Math.random()*new Date|0)+";",V="\x3c!--"+G+"--\x3e";g.prototype.splice=function(a){var b=this.node;for(var c=this.childNodes,f=c[a+(arguments[1]||0)]||b,d=c.splice.apply(c,arguments),p=b.parentNode,e=0,h=d.length;e<h;e++)b=d[e],0>c.indexOf(b)&&p.removeChild(b);if(e=2,h=arguments.length,e<h){if(1==
h-e)b=arguments[e];else for(b=p.ownerDocument.createDocumentFragment();e<h;)b.appendChild(arguments[e++]);p.insertBefore(b,f)}return d};var J=e.createDocumentFragment(),Ea="object"==typeof navigator&&/Firefox\/(\d+)/.test(navigator.userAgent)&&55>parseFloat(RegExp.$1),Q=function(){var a=e.createElement("p");return a.innerHTML='<i data-i="" class=""></i>',/class/i.test(a.firstChild.attributes[0].name)}(),aa=!("children"in J),N=function(a){return(N=a.propertyIsEnumerable("raw")||Ea?M:function(a){return a})(a)},
F=[].slice,Ba={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},K="connected",Y="dis"+K;try{new Event(K);var pa=Event}catch(C){pa=function(a){var b=d.document.createEvent("Event");return b.initEvent(a,!1,!1),b}}try{(new MutationObserver(function(a){for(var b,c=0,f=a.length;c<f;c++)b=a[c],u(b.removedNodes,Y),u(b.addedNodes,K)})).observe(e,{subtree:!0,childList:!0})}catch(C){e.addEventListener("DOMNodeInserted",function(a){u([a.target],K)},!1),e.addEventListener("DOMNodeRemoved",function(a){u([a.target],
Y)},!1)}var S=typeof WeakMap==typeof S?function(){return{delete:function(a){delete a[G]},get:function(a){return a[G]},has:function(a){return G in a},set:function(a,b){Object.defineProperty(a,G,{configurable:!0,value:b})}}}:WeakMap,wa=typeof WeakSet==typeof wa?function(){var a=new S;return{add:function(b){a.set(b,!0)},has:function(b){return!0===a.get(b)}}}:WeakSet,xa=typeof Map==typeof xa?function(){var a=[],b=[];return{get:function(c){return b[a.indexOf(c)]},set:function(c,f){b[a.push(c)-1]=f}}}:
Map,ja=Array.isArray||function(){var a={}.toString,b=a.call([]);return function(c){return a.call(c)===b}}(),oa="_hyper: ".trim||function(){return this.replace(/^\s+|\s+$/g,"")},Ca=Object.defineProperty,da={},ca=[],qa={},P="append"in J?function(a,b){a.append.apply(a,b)}:function(a,b){for(var c=0,f=b.length;c<f;c++)a.appendChild(b[c])},L=aa||Q?function(a){for(var b=[],c=a.childNodes,f=0,d=0,p=c.length;d<p;d++)a=c[d],a.nodeType===I&&(b[f++]=a);return b}:function(a){return a.children},fa=Q||aa?function(a,
b){for(var c,f=0,d=b.length;f<d;f++)switch(c=b[f++]){case "children":a=L(a)[b[f]];break;default:a=a[c][b[f]]}return a}:function(a,b){for(var c=0,f=b.length;c<f;c++)a=a[b[c++]][b[c]];return a},la=/(<[a-z]+[a-z0-9:_-]*)((?:[^\S]+[^ \f\n\r\t\/>"'=]+(?:=(?:'.*?'|".*?"|<.+?>|\S+))?)+)([^\S]*\/?>)/gi,Fa=new RegExp("([^\\S]+[^ \\f\\n\\r\\t\\/>\"'=]+=)(['\"]?)"+V+"\\2","gi"),ma=function(a,b,c,f){return b+c.replace(Fa,Ga)+f},Ga=function(a,b,c){return b+(c||'"')+G+(c||'"')},ia=new wa,W=new S,va=new S,sa=new xa,
O=new S,ea=!0,ta=function(){return J.appendChild(J.ownerDocument.createTextNode("g")),J.appendChild(J.ownerDocument.createTextNode("")),1===J.cloneNode(!0).childNodes.length?function(a){var b=a.cloneNode();a=a.childNodes||[];for(var c=0,f=a.length;c<f;c++)b.appendChild(ta(a[c]));return b}:function(a){return a.cloneNode(!0)}}(),ua=Q?function(a){for(;a=a.nextSibling;)if(a.nodeType===I)return a}:function(a){return a.nextElementSibling},Da=Q?function(a){for(;a=a.previousSibling;)if(a.nodeType===I)return a}:
function(a){return a.previousElementSibling};return d.MAX_LIST_SIZE=1E3,d}(document,function(){function e(e,f,n){var q=e.length,c=f.length;n=(n||1/0)<Math.sqrt((q||1)*(c||1));if(1>q||n)e=void((c||n)&&e.splice.apply(e,[0,q].concat(f)));else if(1>c)e=void e.splice(0);else{var p=e.length+1,g=f.length+1,k=0,w=0,m=0,u=0;q=new l(p*g);for(q[0]=0;++k<g;)q[k]=k;for(;++w<p;){var r=k=0;var y=u;u=w*g;for(q[u+k]=w;++k<g;){c=q[y+k]+1;n=q[u+r]+1;var t=q[y+r]+(e[m]==f[r]?0:1);q[u+k]=c<n?c<t?c:t:n<t?n:t;++r}m=w}c=
[];p=f.length+1;g=e.length+1-1;for(k=p-1;k&&g;)w=g*p+k,r=w-p,n=q[w],t=q[r],w=q[w-1],r=q[r-1],r<=w&&r<=t&&r<=n?(k--,g--,r<n&&a(c,h,k,g,1,[f[k]])):w<=t&&w<=n?(k--,a(c,b,k,g,0,[f[k]])):(g--,a(c,d,k,g,1,[]));for(;k--;)a(c,b,k,g,0,[f[k]]);for(;g--;)a(c,d,k,g,1,[]);t=0;p=1;if(g=c.length){for(n=q=c[0];p<g;)f=c[p++],q.type===f.type&&1>=f.x-q.x&&1>=f.y-q.y?(n.count+=f.count,n.items=n.items.concat(f.items)):(e.splice.apply(e,[n.y+t,n.count].concat(n.items)),t+=n.type===b?n.items.length:n.type===d?-n.count:
0,n=f),q=f;e.splice.apply(e,[n.y+t,n.count].concat(n.items))}e=void 0}return e}function a(a,b,d,e,c,p){a.unshift({type:b,x:d,y:e,count:c,items:p})}var d="del",b="ins",h="sub",l=/^u/.test(typeof Int32Array)?Array:Int32Array;return e.aura=function(a,b){var f=b.splice;return b.splice=function c(){b.splice=f;var d=a.splice.apply(a,arguments);return b.splice=c,d},b},e}());try{k.exports=e}catch(g){}},function(k,e,g){var a=this&&this.__makeTemplateObject||function(a,b){Object.defineProperty?Object.defineProperty(a,
"raw",{value:b}):a.raw=b;return a};Object.defineProperty(e,"__esModule",{value:!0});var d=g(0),b=g(2),h=g(9),l=g(5);k=function(){function f(){this.html=d.wire(this)}f.prototype.render=function(f){f=f.snackbar;var d="snackbar",c="snackbar-container";switch(f.state){case h.state.hide:d=d+" "+b.css.hide;break;case h.state.blink:c=c+" "+b.css.blink;break;case h.state.slideIN:c=c+" "+b.css.slideInBottom;break;case h.state.slideOut:c=c+" "+b.css.slideOutBottom}var e="snackbar-action "+b.css.hide;f.showAction&&
(e="snackbar-action");return this.html(m||(m=a('\n            <div class=";">\n                <div class=";">\n                    <span class="snackbar-message">;</span>\n                    <span class=";">\n                        <a href="#">;</a>\n                     </span>\n                    <span class="snackbar-close">\n                        <svg xmlns="http://www.w3.org/2000/svg" \n                            fill="#000000" \n                            data-action=";"\n                            height="24" \n                            viewBox="0 0 24 24" \n                            width="24">\n                            <path class="clear" \n                                  data-action=";"\n                                  d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n                            <path d="M0 0h24v24H0z" fill="none"/>\n                        </svg>\n                    </span>\n                </div>\n            </div>\n        '.split(";"),
'\n            <div class=";">\n                <div class=";">\n                    <span class="snackbar-message">;</span>\n                    <span class=";">\n                        <a href="#">;</a>\n                     </span>\n                    <span class="snackbar-close">\n                        <svg xmlns="http://www.w3.org/2000/svg" \n                            fill="#000000" \n                            data-action=";"\n                            height="24" \n                            viewBox="0 0 24 24" \n                            width="24">\n                            <path class="clear" \n                                  data-action=";"\n                                  d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n                            <path d="M0 0h24v24H0z" fill="none"/>\n                        </svg>\n                    </span>\n                </div>\n            </div>\n        '.split(";"))),
d,c,f.text,e,f.actionText,l.onClick.closeSnackbar,l.onClick.closeSnackbar)};return f}();e.SnackbarView=k;var m},function(k,e,g){var a=this&&this.__makeTemplateObject||function(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a};Object.defineProperty(e,"__esModule",{value:!0});var d=g(0),b=g(2);k=function(){function e(){this.html=d.wire(this)}e.prototype.render=function(d){var f="modal "+b.css.hide;d=d.popup;d.show&&(f="modal");return this.html(h||(h=a(['\n            <div class="',
'">\n                <div class="modal-overlay"></div>\n                <div class="modal-container">\n                    <div class="modal-center">\n                        <h3 class="modal-header">','</h3>\n                        <div class="modal-separator"></div>\n                        <div class="modal-main">','</div>\n                        <div class="modal-separator"></div>\n                        <div class="modal-footer">',"</div>\n                    </div>\n                </div>\n            </div>\n        "],
['\n            <div class="','">\n                <div class="modal-overlay"></div>\n                <div class="modal-container">\n                    <div class="modal-center">\n                        <h3 class="modal-header">','</h3>\n                        <div class="modal-separator"></div>\n                        <div class="modal-main">','</div>\n                        <div class="modal-separator"></div>\n                        <div class="modal-footer">',"</div>\n                    </div>\n                </div>\n            </div>\n        "])),
f,d.title,[d.main],[d.footer])};return e}();e.PopupView=k;var h},function(k,e,g){var a=this&&this.__makeTemplateObject||function(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a};Object.defineProperty(e,"__esModule",{value:!0});var d=g(0);k=function(){function e(){this.html=d.wire(this)}e.prototype.render=function(d){var e=d.ago;return this.html(b||(b=a(['\n            <div class="article">\n                <h1>',"</h1>\n                <p>","</p>\n                <div>Created: ",
"</div>\n                <div>Published: ","</div>\n            </div>\n        "],['\n            <div class="article">\n                <h1>',"</h1>\n                <p>","</p>\n                <div>Created: ","</div>\n                <div>Published: ","</div>\n            </div>\n        "])),d.article.title,d.article.bodyText,e.time(d.article.createTime),e.time(d.article.publishTime))};return e}();e.ArticleView=k;var b},function(k,e,g){var a=this&&this.__makeTemplateObject||function(a,b){Object.defineProperty?
Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a};Object.defineProperty(e,"__esModule",{value:!0});var d=g(0);k=function(){function e(){this.html=d.wire(this)}e.prototype.render=function(d){return this.html(b||(b=a(["\n            <h2>","</h2>\n            <p>Admin? ","</p>\n        "],["\n            <h2>","</h2>\n            <p>Admin? ","</p>\n        "])),d.userProfile.name,d.userProfile.admin)};return e}();e.ProfileView=k;var b},function(k,e,g){var a=this&&this.__makeTemplateObject||
function(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a};Object.defineProperty(e,"__esModule",{value:!0});var d=g(0);k=function(){function e(){this.html=d.wire(this)}e.prototype.render=function(d){return this.html(b||(b=a(['\n            <div class="page-error">\n                <p>',"</p>\n            </div>\n        "],['\n            <div class="page-error">\n                <p>',"</p>\n            </div>\n        "])),d.message)};return e}();e.ErrorView=k;
var b},function(k,e,g){var a=this&&this.__makeTemplateObject||function(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a};Object.defineProperty(e,"__esModule",{value:!0});var d=g(0),b=g(8),h=g(2),l=g(5);k=function(){function e(){this.html=d.wire(this);this.signUpOptions=new m;this.signUpWithEmail=new f;this.signInWithEmail=new q;this.signInOptions=new n}e.prototype.render=function(f){var d="auth-overlay",e="auth-container";f.auth===b.Auth.hide&&(d=d+" "+h.css.hide,
e=e+" "+h.css.hide);return this.html(c||(c=a('\n            <div class=";"></div>\n            <div class=";">\n                <div class="auth-modal">\n                    <div class="auth-modal-close">\n                        <svg xmlns="http://www.w3.org/2000/svg" \n                            fill="#000000" \n                            data-action=";"\n                            height="24" \n                            viewBox="0 0 24 24" \n                            width="24">\n                            <path\n                                  data-action=";"\n                                  d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n                            <path d="M0 0h24v24H0z" fill="none"/>\n                        </svg>\n                    </div>\n                    ;\n                    ;\n                    ;\n                    ;\n                </div>\n            </div>\n        '.split(";"),
'\n            <div class=";"></div>\n            <div class=";">\n                <div class="auth-modal">\n                    <div class="auth-modal-close">\n                        <svg xmlns="http://www.w3.org/2000/svg" \n                            fill="#000000" \n                            data-action=";"\n                            height="24" \n                            viewBox="0 0 24 24" \n                            width="24">\n                            <path\n                                  data-action=";"\n                                  d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n                            <path d="M0 0h24v24H0z" fill="none"/>\n                        </svg>\n                    </div>\n                    ;\n                    ;\n                    ;\n                    ;\n                </div>\n            </div>\n        '.split(";"))),
d,e,l.onClick.closeAuth,l.onClick.closeAuth,this.signUpOptions.render(b.Auth.signUpOptions===f.auth),this.signUpWithEmail.render(b.Auth.signUpWithEmail===f.auth),this.signInOptions.render(b.Auth.signInOptions===f.auth),this.signInWithEmail.render(b.Auth.signInWithEmail===f.auth))};return e}();e.AuthView=k;var m=function(){function b(){this.html=d.wire(this)}b.prototype.render=function(b){var c=h.css.hide;b&&(c="auth-content");return this.html(p||(p=a('\n            <div class=";">\n                <h2>Join Viperfire</h2>\n                <button data-action=";">\n                    Sign up with Google\n                </button>\n                <button data-action=";">\n                    Sign up with Facebook\n                </button>\n                <button data-action=";">\n                    Sign up with Twitter\n                </button>\n                <button data-action=";">\n                    Sign up with Email\n                </button>\n                <p>\n                    Already have an account? \n                    <a href="#" data-action=";">Sign in</a>.\n                </p>\n                <p>\n                    By creating an account, you accept Viperfire\'s \n                    <a href="/terms-of-service">Terms of Service</a>.\n                </p>\n            </div>\n        '.split(";"),
'\n            <div class=";">\n                <h2>Join Viperfire</h2>\n                <button data-action=";">\n                    Sign up with Google\n                </button>\n                <button data-action=";">\n                    Sign up with Facebook\n                </button>\n                <button data-action=";">\n                    Sign up with Twitter\n                </button>\n                <button data-action=";">\n                    Sign up with Email\n                </button>\n                <p>\n                    Already have an account? \n                    <a href="#" data-action=";">Sign in</a>.\n                </p>\n                <p>\n                    By creating an account, you accept Viperfire\'s \n                    <a href="/terms-of-service">Terms of Service</a>.\n                </p>\n            </div>\n        '.split(";"))),
c,l.onClick.signInWithGoogle,l.onClick.signInWithFacebook,l.onClick.signInWithTwitter,l.onClick.signUpWithEmail,l.onClick.signInOptions)};return b}(),f=function(){function b(){this.html=d.wire(this)}b.prototype.render=function(b){var c=h.css.hide;b&&(c="auth-content");return this.html(v||(v=a(['\n            <div class="','">\n                <h2>Sign up with email</h2>\n                <div>Add form ...\n                    <button>Create Account</button>\n                </div>\n                <a href="#" data-action="',
'">All sign up options</a>\n                <p> By creating an account, you accept Viperfire\'s \n                    <a href="/terms-of-service">Terms of Service</a>.\n                </p>\n            </div>\n        '],['\n            <div class="','">\n                <h2>Sign up with email</h2>\n                <div>Add form ...\n                    <button>Create Account</button>\n                </div>\n                <a href="#" data-action="','">All sign up options</a>\n                <p> By creating an account, you accept Viperfire\'s \n                    <a href="/terms-of-service">Terms of Service</a>.\n                </p>\n            </div>\n        '])),
c,l.onClick.signUpOptions)};return b}(),n=function(){function b(){this.html=d.wire(this)}b.prototype.render=function(b){var c=h.css.hide;b&&(c="auth-content");return this.html(D||(D=a('\n            <div class=";">\n                <h2>Welcome back.</h2>\n                <button\n                    data-action=";">\n                    Sign in with Google\n                </button>\n                <button data-action=";">\n                    Sign in with Facebook\n                </button>\n                <button data-action=";">\n                    Sign in with Twitter\n                </button>\n                <button data-action=";">\n                    Sign in with email\n                </button>\n                <p>\n                    No account? <a href="#" data-action=";">Create one</a>.\n                </p>\n                <a href="/terms-of-service" class="auth-tos">Terms of Service</a>\n            </div>\n        '.split(";"),
'\n            <div class=";">\n                <h2>Welcome back.</h2>\n                <button\n                    data-action=";">\n                    Sign in with Google\n                </button>\n                <button data-action=";">\n                    Sign in with Facebook\n                </button>\n                <button data-action=";">\n                    Sign in with Twitter\n                </button>\n                <button data-action=";">\n                    Sign in with email\n                </button>\n                <p>\n                    No account? <a href="#" data-action=";">Create one</a>.\n                </p>\n                <a href="/terms-of-service" class="auth-tos">Terms of Service</a>\n            </div>\n        '.split(";"))),
c,l.onClick.signInWithGoogle,l.onClick.signInWithFacebook,l.onClick.signInWithTwitter,l.onClick.signInWithEmail,l.onClick.signUpOptions)};return b}(),q=function(){function b(){this.html=d.wire(this)}b.prototype.render=function(b){var c=h.css.hide;b&&(c="auth-content");return this.html(w||(w=a(['\n            <div class="','">\n                <h2>Sign in with email</h2>\n                <form action="#" data-action="signInForm" class="sign-in-form" novalidate>\n                    <div class="form-field">\n                        <input \n                            data-action="signInInput" \n                            required\n                            maxlength="150"\n                            minlength="4"\n                            placeholder="Email"\n                            name="email" \n                            type="email"/>\n                        <span class="error invisible">visibility:hidden</span>\n                    </div>\n                    <div class="form-field">\n                        <input \n                            data-action="signInInput" \n                            placeholder="Password"\n                            required \n                            maxlength="40"\n                            minlength="4"\n                            type="password"/>\n                        <span class="error invisible">visibility:hidden</span>\n                    </div>\n                    \n                    <button>Sign in</button>\n                </form>\n                <p>\n                    <a href="#" data-action="',
'">\n                       Back to sign in options\n                    </a>\n                </p>\n                <a href="/terms-of-service" class="auth-tos">Terms of Service</a>\n            </div>\n        '],['\n            <div class="','">\n                <h2>Sign in with email</h2>\n                <form action="#" data-action="signInForm" class="sign-in-form" novalidate>\n                    <div class="form-field">\n                        <input \n                            data-action="signInInput" \n                            required\n                            maxlength="150"\n                            minlength="4"\n                            placeholder="Email"\n                            name="email" \n                            type="email"/>\n                        <span class="error invisible">visibility:hidden</span>\n                    </div>\n                    <div class="form-field">\n                        <input \n                            data-action="signInInput" \n                            placeholder="Password"\n                            required \n                            maxlength="40"\n                            minlength="4"\n                            type="password"/>\n                        <span class="error invisible">visibility:hidden</span>\n                    </div>\n                    \n                    <button>Sign in</button>\n                </form>\n                <p>\n                    <a href="#" data-action="',
'">\n                       Back to sign in options\n                    </a>\n                </p>\n                <a href="/terms-of-service" class="auth-tos">Terms of Service</a>\n            </div>\n        '])),c,l.onClick.signInOptions)};return b}(),c,p,v,D,w},function(k,e,g){var a=this&&this.__makeTemplateObject||function(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a};Object.defineProperty(e,"__esModule",{value:!0});var d=g(0),b=g(1),h=g(2);k=function(){function e(){this.html=
d.wire(this)}e.prototype.render=function(c){var e=0<c.articleList.length,g=b.path.nextArticles(c.articleList.pageToken),q=g.nextArticlesPath,k=h.css.hide;g.hasMore&&(k=h.css.show);var U=c.ago;return this.html(n||(n=a(['\n            <div class="articles">\n                ',"\n            </div>"],['\n            <div class="articles">\n                ',"\n            </div>"])),e?d.wire(this,":article-list")(m||(m=a(["<ul>\n                            ",'\n                        </ul>\n                        <a href="',
'" class="','">More</a>'],["<ul>\n                            ",'\n                        </ul>\n                        <a href="','" class="','">More</a>'])),c.articleList.articles.map(function(c){return d.wire(c)(l||(l=a(['\n                                <li>\n                                    <a href="','">',"</a>\n                                    <span>","</span>\n                                </li>"],['\n                                <li>\n                                    <a href="',
'">',"</a>\n                                    <span>","</span>\n                                </li>"])),b.path.article(c.id),c.id,U.time(c.createTime))}),q,k):d.wire(this,":no-articles")(f||(f=a(["<p>Found no articles</p>"],["<p>Found no articles</p>"]))))};return e}();e.ArticleListView=k;var l,m,f,n},function(k,e,g){var a=this&&this.__makeTemplateObject||function(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a};Object.defineProperty(e,"__esModule",{value:!0});
var d=g(0),b=g(5);k=function(){function e(a){this.hyperLink=a.hyperLink;this.viperLink=a.viperLink;this.links=a.links;this.html=d.wire(this)}e.prototype.render=function(){return this.html(l||(l=a('\n            <h1>About Viperfire</h1>\n            <button data-action=";">Open snackbar</button>\n            <button data-action=";">Open Popup</button>\n            <p>A starter application hosted on Firebase and using \n                <a href=";">;</a> \n                on the client and <a href=";">;</a> on the server\n            </p>\n            <p>Technologies used:</p>\n            <ul>\n                ;\n            </ul>'.split(";"),
'\n            <h1>About Viperfire</h1>\n            <button data-action=";">Open snackbar</button>\n            <button data-action=";">Open Popup</button>\n            <p>A starter application hosted on Firebase and using \n                <a href=";">;</a> \n                on the client and <a href=";">;</a> on the server\n            </p>\n            <p>Technologies used:</p>\n            <ul>\n                ;\n            </ul>'.split(";"))),b.onClick.openSnackbar,b.onClick.openPopup,this.hyperLink.url,
this.hyperLink.name,this.viperLink.url,this.viperLink.name,this.links.map(function(b,e){return d.wire(b)(h||(h=a(['\n                    <li><a href="','">',"</a></li>"],['\n                    <li><a href="','">',"</a></li>"])),b.url,b.name)}))};return e}();e.AboutView=k;var h,l},function(k,e,g){var a=this&&this.__makeTemplateObject||function(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a};Object.defineProperty(e,"__esModule",{value:!0});var d=g(2),b=g(0),h=
g(5);k=function(){function e(a){this.logo=a.logo;this.html=b.wire(this)}e.prototype.render=function(b){var f=this.logo;if(b.currentUser.signedIn){var e="header-account-link "+d.css.hide;b="header-account-link"}else e="header-account-link",b="header-account-link "+d.css.hide;return this.html(l||(l=a('\n            <a href=";" class="header-logo">;</a>\n            <div class="header-account">\n                <div class=";">\n                    <a href="#" data-action=";" rel="nofollow">Sign In</a>\n                </div>\n                <div class=";">\n                    <a href="#" data-action=";" rel="nofollow">Sign Out</a>\n                </div>\n            </div>'.split(";"),
'\n            <a href=";" class="header-logo">;</a>\n            <div class="header-account">\n                <div class=";">\n                    <a href="#" data-action=";" rel="nofollow">Sign In</a>\n                </div>\n                <div class=";">\n                    <a href="#" data-action=";" rel="nofollow">Sign Out</a>\n                </div>\n            </div>'.split(";"))),f.url,f.name,e,h.onClick.signInOptions,b,h.onClick.signOut)};return e}();e.HeaderView=k;var l},function(k,
e,g){var a=this&&this.__makeTemplateObject||function(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a};Object.defineProperty(e,"__esModule",{value:!0});var d=g(0),b=g(1);k=function(){function f(a){this.html=d.wire(this);this.links=a.links}f.prototype.render=function(f){var e=[];f.currentUser.signedIn&&(e[0]={name:"My Profile",url:b.path.profile(f.currentUser.uid)});return this.html(m||(m=a(['\n            <ul class="footer-list">\n                ',"\n                \n                ",
"\n            </ul>"],['\n            <ul class="footer-list">\n                ',"\n                \n                ","\n            </ul>"])),this.links.map(function(b,f){return d.wire(b)(h||(h=a(['\n                    <li class="footer-list-item"><a href="','">',"</a></li>"],['\n                    <li class="footer-list-item"><a href="','">',"</a></li>"])),b.url,b.name)}),e.map(function(b,f){return d.wire(b)(l||(l=a(['\n                    <li class="footer-list-item"><a href="','">',"</a></li>"],
['\n                    <li class="footer-list-item"><a href="','">',"</a></li>"])),b.url,b.name)}))};return f}();e.FooterView=k;var h,l,m},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});k=function(){function a(){}a.online=!0;return a}();e.env=k},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});k=g(6);window.__VIPER__=window.__VIPER__||{user:k.userBuilder.signedOut()};var a=function(){function a(){}a.info=function(a){};a.error=function(a){};a.setUser=function(a){};
return a}(),d=function(){function a(){}a.info=function(a){console.info(a)};a.error=function(a){console.error(a)};a.setUser=function(a){window.__VIPER__.user=a};return a}();e.log=function(b){return b?a:d}},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});k=function(){function a(){}a.decodeUnicode=function(a){return decodeURIComponent(atob(a).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""))};return a}();e.base64=k},function(k,e,g){Object.defineProperty(e,
"__esModule",{value:!0});var a=g(16),d=g(38),b=g(40),h=g(43);k=function(){function e(e){this.authDomain=new h.AuthDomain(a.app());this.profileDomain=new d.ProfileDomain({firestore:a.firestore(),logger:e.logger});this.articleDomain=new b.ArticleDomain({firestore:a.firestore()})}e.prototype.auth=function(){return this.authDomain};e.prototype.article=function(){return this.articleDomain};e.prototype.profile=function(){return this.profileDomain};return e}();e.Domain=k},function(k,e,g){var a=this&&this.__awaiter||
function(a,b,c,f){return new (c||(c=Promise))(function(d,e){function p(a){try{h(f.next(a))}catch(y){e(y)}}function g(a){try{h(f["throw"](a))}catch(y){e(y)}}function h(a){a.done?d(a.value):(new c(function(b){b(a.value)})).then(p,g)}h((f=f.apply(a,b||[])).next())})},d=this&&this.__generator||function(a,b){function c(a){return function(b){return f([a,b])}}function f(c){if(e)throw new TypeError("Generator is already executing.");for(;d;)try{if(e=1,g&&(h=g[c[0]&2?"return":c[0]?"throw":"next"])&&!(h=h.call(g,
c[1])).done)return h;if(g=0,h)c=[0,h.value];switch(c[0]){case 0:case 1:h=c;break;case 4:return d.label++,{value:c[1],done:!1};case 5:d.label++;g=c[1];c=[0];continue;case 7:c=d.ops.pop();d.trys.pop();continue;default:if(!(h=d.trys,h=0<h.length&&h[h.length-1])&&(6===c[0]||2===c[0])){d=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3]))d.label=c[1];else if(6===c[0]&&d.label<h[1])d.label=h[1],h=c;else if(h&&d.label<h[2])d.label=h[2],d.ops.push(c);else{h[2]&&d.ops.pop();d.trys.pop();continue}}c=b.call(a,
d)}catch(y){c=[6,y],g=0}finally{e=h=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var d={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},e,g,h,l;return l={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l};Object.defineProperty(e,"__esModule",{value:!0});var b=g(17),h=g(18),l=g(39);k=function(){function e(a){this.db=a.firestore;this.logger=a.logger;this.cache=new m;this.subscriptions=new f}e.prototype.get=
function(f){return a(this,void 0,void 0,function(){var a,e,g,k,n,q,u,m,y,t,B;return d(this,function(c){switch(c.label){case 0:a=this.cache[f.uid];e=b.path.profile(f.uid);if(a)return this.logger.info("cache hit "+e),[2,{code:h.statusCode.OK,userProfile:a,err:null}];this.logger.info("cache miss "+e);c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.db.doc(e).get()];case 2:g=c.sent();if(!g.exists)return k=h.domainNotFound(e),n=k.code,q=k.err,u=l.userProfileBuilder.empty(f.uid),[2,{code:n,userProfile:u,
err:q}];m=l.userProfileBuilder.fromDB(g.data());return[2,{code:h.statusCode.OK,userProfile:m,err:null}];case 3:return y=c.sent(),t=h.domainInternalError(e,y.message),n=t.code,q=t.err,B=l.userProfileBuilder.empty(f.uid),[2,{code:n,userProfile:B,err:q}];case 4:return[2]}})})};e.prototype.subscribe=function(a){var c=this,f=b.path.profile(a);this.logger.info("subscribe to "+f);this.subscriptions[a]=this.db.doc(f).onSnapshot(function(b){b.exists?(c.logger.info("add "+f+" to cache"),c.cache[a]=l.userProfileBuilder.fromDB(b.data()),
c.logger.info(f+" updated on "+(b.metadata.hasPendingWrites?"Client":"Server"))):c.unsubscribe(a)})};e.prototype.unsubscribe=function(a){if(""!==a){var c=b.path.profile(a);this.logger.info("unsubscribe to "+c);delete this.cache[a];if(c=this.subscriptions[a])this.logger.info("calling unsubscribe"),c(),this.logger.info("called unsubscribe"),delete this.subscriptions[a]}};return e}();e.ProfileDomain=k;var m=function(){return function(){}}(),f=function(){return function(){}}()},function(k,e,g){Object.defineProperty(e,
"__esModule",{value:!0});var a=g(6);k=function(){function b(){}b.empty=function(b){return{uid:b,name:"",email:"",admin:!1,claims:a.userBuilder.defaultClaims}};b.fromDB=function(b){var e=d(b.claims);return{uid:b.uid,name:b.name,email:b.email,admin:e[a.userBuilder.adminClaim],claims:e}};b.fromUser=function(b){var e=d(b.claims);return{uid:b.uid,name:b.name,email:b.email,admin:e[a.userBuilder.adminClaim],claims:e}};b.toUser=function(a,b){return{signedIn:b,uid:a.uid,name:a.name,email:a.email,claims:a.claims}};
return b}();e.userProfileBuilder=k;var d=function(b){return b&&b.hasOwnProperty(a.userBuilder.adminClaim)?b:a.userBuilder.defaultClaims}},function(k,e,g){var a=this&&this.__awaiter||function(a,b,d,c){return new (d||(d=Promise))(function(f,e){function p(a){try{h(c.next(a))}catch(r){e(r)}}function g(a){try{h(c["throw"](a))}catch(r){e(r)}}function h(a){a.done?f(a.value):(new d(function(b){b(a.value)})).then(p,g)}h((c=c.apply(a,b||[])).next())})},d=this&&this.__generator||function(a,b){function f(a){return function(b){return c([a,
b])}}function c(c){if(e)throw new TypeError("Generator is already executing.");for(;d;)try{if(e=1,g&&(h=g[c[0]&2?"return":c[0]?"throw":"next"])&&!(h=h.call(g,c[1])).done)return h;if(g=0,h)c=[0,h.value];switch(c[0]){case 0:case 1:h=c;break;case 4:return d.label++,{value:c[1],done:!1};case 5:d.label++;g=c[1];c=[0];continue;case 7:c=d.ops.pop();d.trys.pop();continue;default:if(!(h=d.trys,h=0<h.length&&h[h.length-1])&&(6===c[0]||2===c[0])){d=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3]))d.label=
c[1];else if(6===c[0]&&d.label<h[1])d.label=h[1],h=c;else if(h&&d.label<h[2])d.label=h[2],d.ops.push(c);else{h[2]&&d.ops.pop();d.trys.pop();continue}}c=b.call(a,d)}catch(r){c=[6,r],g=0}finally{e=h=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var d={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},e,g,h,k;return k={next:f(0),"throw":f(1),"return":f(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k};Object.defineProperty(e,"__esModule",
{value:!0});var b=g(41),h=g(17),l=g(18),m=g(42);k=function(){function f(a){this.limit=3;this.db=a.firestore}f.prototype.get=function(f){return a(this,void 0,void 0,function(){var a,c,e,g,k,n,m,u;return d(this,function(d){switch(d.label){case 0:a=h.path.article(f),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.db.doc(a).get()];case 2:c=d.sent();if(!c.exists)return e=l.domainNotFound(a),g=e.code,k=e.err,[2,{code:g,article:b.articleBuilder.empty(f),error:k}];n=b.articleBuilder.fromDB(f,c.data());
return[2,{code:l.statusCode.OK,article:n,error:null}];case 3:return m=d.sent(),u=l.domainInternalError(a,m.message),g=u.code,k=u.err,[2,{code:g,article:b.articleBuilder.empty(f),error:k}];case 4:return[2]}})})};f.prototype.queryDraft=function(a){return{status:b.Status.Draft,limit:this.limit,pageToken:a||""}};f.prototype.queryPublished=function(a){return{status:b.Status.Published,limit:this.limit,pageToken:a||""}};f.prototype.all=function(f){return a(this,void 0,void 0,function(){var a,c,e,g,k,l,n,
u,r,y,t,B;return d(this,function(d){switch(d.label){case 0:a=this.db.collection(h.path.articles).where("status","==",f.status).limit(f.limit);a=f.status===b.Status.Draft?a.orderBy("createTime","desc"):a.orderBy("publishTime","desc");c={articleList:{length:0,pageToken:"",articles:[]},domainError:null};if(""!==f.pageToken){e=m.parsePageToken(f.pageToken);g=e.pageToken;if(k=e.pageTokenError)return c.domainError="could not parse pageToken; error="+k,[2,c];a=a.orderBy("sortID").startAfter(g.time,g.sortID)}d.label=
1;case 1:return d.trys.push([1,3,,4]),[4,a.get()];case 2:l=d.sent();if(l.empty)return[2,c];c.articleList.length=l.docs.length;c.articleList.length>=f.limit&&(n=l.docs[c.articleList.length-1].data(),c.articleList.pageToken=n.status===b.Status.Draft?m.newPageToken(n.createTime,n.sortID):m.newPageToken(n.publishTime,n.sortID));u=0;for(r=l.docs;u<r.length;u++)y=r[u],t=b.articleBuilder.fromDB(y.id,y.data()),c.articleList.articles.push(t);return[2,c];case 3:return B=d.sent(),c.domainError="query article.all() failed; error="+
B.message,[2,c];case 4:return[2]}})})};return f}();e.ArticleDomain=k},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});var a;(function(a){a.Draft="draft";a.Published="published"})(a=e.Status||(e.Status={}));k=function(){function d(){}d.setSortID=function(a,d){return{id:a.id,sortID:d,title:a.title,bodyText:a.bodyText,author:a.author,commentCount:a.commentCount,status:a.status,publishTime:a.publishTime,createTime:a.createTime,updateTime:a.updateTime}};d.empty=function(b){return{id:b,
sortID:"",title:"",bodyText:"",author:"",commentCount:0,status:a.Draft,publishTime:0x8994df7bcc3c,createTime:Date.now(),updateTime:Date.now()}};d.toDB=function(a){return{sortID:a.sortID,title:a.title,bodyText:a.bodyText,author:a.author,commentCount:a.commentCount,status:a.status,publishTime:a.publishTime,createTime:a.createTime,updateTime:a.updateTime}};d.fromDB=function(a,d){return{id:a,sortID:d.sortID,title:d.title,bodyText:d.bodyText,author:d.author,commentCount:d.commentCount,status:d.status,
publishTime:d.publishTime,createTime:d.createTime,updateTime:d.updateTime}};d.hasError=function(a){return null};return d}();e.articleBuilder=k},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});e.newPageToken=function(a,d){return a+"-"+d};e.parsePageToken=function(a){try{var d=a.split("-");return{pageToken:{time:parseInt(d[0],10),sortID:d[1]},pageTokenError:null}}catch(b){return{pageToken:{time:1,sortID:""},pageTokenError:b.message}}}},function(k,e,g){var a=this&&this.__awaiter||function(a,
b,d,c){return new (d||(d=Promise))(function(f,e){function g(a){try{p(c.next(a))}catch(r){e(r)}}function h(a){try{p(c["throw"](a))}catch(r){e(r)}}function p(a){a.done?f(a.value):(new d(function(b){b(a.value)})).then(g,h)}p((c=c.apply(a,b||[])).next())})},d=this&&this.__generator||function(a,b){function d(a){return function(b){return c([a,b])}}function c(c){if(e)throw new TypeError("Generator is already executing.");for(;f;)try{if(e=1,g&&(h=g[c[0]&2?"return":c[0]?"throw":"next"])&&!(h=h.call(g,c[1])).done)return h;
if(g=0,h)c=[0,h.value];switch(c[0]){case 0:case 1:h=c;break;case 4:return f.label++,{value:c[1],done:!1};case 5:f.label++;g=c[1];c=[0];continue;case 7:c=f.ops.pop();f.trys.pop();continue;default:if(!(h=f.trys,h=0<h.length&&h[h.length-1])&&(6===c[0]||2===c[0])){f=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3]))f.label=c[1];else if(6===c[0]&&f.label<h[1])f.label=h[1],h=c;else if(h&&f.label<h[2])f.label=h[2],f.ops.push(c);else{h[2]&&f.ops.pop();f.trys.pop();continue}}c=b.call(a,f)}catch(r){c=[6,r],
g=0}finally{e=h=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var f={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},e,g,h,k;return k={next:d(0),"throw":d(1),"return":d(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k};Object.defineProperty(e,"__esModule",{value:!0});var b=g(16),h=g(6);k=function(){function f(a){this.firebase=a;this.cache=new l(a.options)}f.prototype.getClaims=function(b){return a(this,void 0,void 0,function(){var a,
c;return d(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,b.getIdToken()];case 1:return a=f.sent(),[2,h.userBuilder.parseIdToken(a)];case 2:return c=f.sent(),[2,{claims:h.userBuilder.defaultClaims,err:c.message}];case 3:return[2]}})})};f.prototype.onAuthStatChanged=function(b){var f=this;this.firebase.auth().onAuthStateChanged(function(c){return a(f,void 0,void 0,function(){return d(this,function(a){b(c);return[2]})})})};f.prototype.currentUser=function(){return this.cache};
f.prototype.signInWithGooglePopup=function(){return a(this,void 0,void 0,function(){var a,f;return d(this,function(c){a=new b.auth.GoogleAuthProvider;f={firebase:this.firebase,provider:a};return[2,(new m(f)).signIn()]})})};f.prototype.signInWithFacebookPopup=function(){return a(this,void 0,void 0,function(){var a,f;return d(this,function(c){a=new b.auth.FacebookAuthProvider;f={firebase:this.firebase,provider:a};return[2,(new m(f)).signIn()]})})};f.prototype.signInWithTwitterPopup=function(){return a(this,
void 0,void 0,function(){var a,f;return d(this,function(c){a=new b.auth.TwitterAuthProvider;f={firebase:this.firebase,provider:a};return[2,(new m(f)).signIn()]})})};f.prototype.signOut=function(){return a(this,void 0,void 0,function(){return d(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.firebase.auth().signOut()];case 1:return a.sent(),[2,!0];case 2:return a.sent(),[2,!1];case 3:return[2]}})})};return f}();e.AuthDomain=k;var l=function(){function a(a){this.key="firebase:authUser:"+
a.apiKey+":[DEFAULT]"}a.prototype.getFromCache=function(){if(!window.localStorage)return{currentUser:null,err:"no local storage in this browser"};var a=localStorage.getItem(this.key);if(!a)return{currentUser:null,err:"no user exists in local storage; apiKey="+this.key};try{var b=JSON.parse(a);return{currentUser:h.userBuilder.fromFirebase(b),err:""}}catch(c){return{currentUser:null,err:"local storage JSON.parse(text); test="+a+"; error="+c.message}}};return a}(),m=function(){function b(a){this.firebase=
a.firebase;this.provider=a.provider}b.prototype.signIn=function(){return a(this,void 0,void 0,function(){var a,b,c,f;return d(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this.firebase.auth().signInWithPopup(this.provider)];case 1:return a=d.sent(),b=a.user,[2,{currentUser:h.userBuilder.fromFirebase(b),err:""}];case 2:return f=c=d.sent(),[2,{currentUser:null,err:f.message}];case 3:return[2]}})})};return b}()},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});
var a=g(0),d=g(13),b=g(10),h=g(12),l=g(15),m=g(1),f=g(45),n=g(14);k=function(){function e(b){this.pageNumber=0;this.renderBody=a.bind(b.body);this.view=b.view;this.presenter=b.presenter;this.logger=b.logger}e.prototype.loading=function(a){f.loader.start(this);this.pageNumber++;this.logger.info("loading("+this.pageNumber+")="+a);return this.pageNumber};e.prototype.showArticleList=function(a,b){var c=this;this.showPage(a,function(){var a=d.ArticleListPresenter.Next(c.presenter,b);c.renderArticleList(a)})};
e.prototype.renderArticleList=function(a){document.title=a.title;this.view.renderArticleList(this.renderBody,a);this.presenter=a};e.prototype.showArticle=function(a,b){var c=this;this.showPage(a,function(){var a=n.ArticlePresenter.Next(c.presenter,b);c.renderArticle(a)})};e.prototype.renderArticle=function(a){document.title=a.title;this.view.renderArticle(this.renderBody,a);this.presenter=a};e.prototype.showProfile=function(a,f){var c=this;this.showPage(a,function(){var a=b.ProfilePresenter.Next(c.presenter,
f);c.renderProfile(a)})};e.prototype.renderProfile=function(a){document.title=a.title;this.view.renderProfile(this.renderBody,a);this.presenter=a};e.prototype.showAbout=function(a){var b=this;this.showPage(a,function(){var a=h.AboutPresenter.Next(b.presenter);b.renderAbout(a)})};e.prototype.renderAbout=function(a){this.view.renderAbout(this.renderBody,a);document.title=a.title;this.presenter=a};e.prototype.showPage=function(a,b){try{a===this.pageNumber?(f.loader.done(this),b(),f.loader.reset(this),
window.scrollTo(0,0)):this.logger.info("cancel visit => "+a+" !== "+this.pageNumber)}catch(v){this.showError(a,500,v.message)}};e.prototype.showError=function(a,b,d){this.logger.error("visit error; code="+b+"; error="+d);a===this.pageNumber?(f.loader.done(this),a=l.ErrorPresenter.FromCode(b,this.presenter),this.renderError(a),f.loader.reset(this),window.scrollTo(0,0)):this.logger.info("cancel error visit => "+a+" !== "+this.pageNumber)};e.prototype.renderError=function(a){this.view.renderError(this.renderBody,
a);document.title=a.title;this.presenter=a};e.prototype.render=function(){try{switch(this.presenter.path){case m.path.articles:this.renderArticleList(this.presenter);break;case m.path.articleRegExp:this.renderArticle(this.presenter);break;case m.path.about:this.renderAbout(this.presenter);break;case m.path.profileReqExp:this.renderProfile(this.presenter);break;case m.path.error:this.renderError(this.presenter);break;default:this.logger.error("page.Render() failed; error=path="+m.path+" not found")}}catch(c){this.logger.error("page.Render() failed; error="+
c.message)}};return e}();e.Page=k},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});var a=g(7);k=function(){function d(){}d.start=function(b){d.resetNow(b);b.presenter.pageLoader=a.PageLoader.Loading;b.render()};d.reset=function(a){a.pageNumber===a.pageNumber&&d.resetNow(a)};d.done=function(b){b.pageNumber===b.pageNumber&&(b.presenter.pageLoader===a.PageLoader.Loading&&(b.presenter.pageLoader=a.PageLoader.Done),b.render())};d.resetNow=function(b){b.presenter.pageLoader!==a.PageLoader.Neutral&&
(b.presenter.pageLoader=a.PageLoader.Neutral,b.render())};return d}();e.loader=k},function(k,e,g){var a=this&&this.__awaiter||function(a,b,d,c){return new (d||(d=Promise))(function(f,e){function h(a){try{k(c.next(a))}catch(r){e(r)}}function g(a){try{k(c["throw"](a))}catch(r){e(r)}}function k(a){a.done?f(a.value):(new d(function(b){b(a.value)})).then(h,g)}k((c=c.apply(a,b||[])).next())})},d=this&&this.__generator||function(a,b){function f(a){return function(b){return c([a,b])}}function c(c){if(e)throw new TypeError("Generator is already executing.");
for(;d;)try{if(e=1,h&&(g=h[c[0]&2?"return":c[0]?"throw":"next"])&&!(g=g.call(h,c[1])).done)return g;if(h=0,g)c=[0,g.value];switch(c[0]){case 0:case 1:g=c;break;case 4:return d.label++,{value:c[1],done:!1};case 5:d.label++;h=c[1];c=[0];continue;case 7:c=d.ops.pop();d.trys.pop();continue;default:if(!(g=d.trys,g=0<g.length&&g[g.length-1])&&(6===c[0]||2===c[0])){d=0;continue}if(3===c[0]&&(!g||c[1]>g[0]&&c[1]<g[3]))d.label=c[1];else if(6===c[0]&&d.label<g[1])d.label=g[1],g=c;else if(g&&d.label<g[2])d.label=
g[2],d.ops.push(c);else{g[2]&&d.ops.pop();d.trys.pop();continue}}c=b.call(a,d)}catch(r){c=[6,r],h=0}finally{e=g=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var d={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},e,h,g,k;return k={next:f(0),"throw":f(1),"return":f(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k};Object.defineProperty(e,"__esModule",{value:!0});var b=g(6),h=g(47),l=g(11),m=g(8);k=function(){function f(a){this.page=
a.page;this.domain=a.domain;this.logger=a.logger;this.snackbar=new h.SnackbarHelper({page:this.page,logger:this.logger})}f.prototype.rootVisit=function(a){this.root(a,"rootVisit")};f.prototype.rootBack=function(a){this.root(a,"rootBack")};f.prototype.root=function(b,f){return a(this,void 0,void 0,function(){var a,e,g,h,k;return d(this,function(c){switch(c.label){case 0:return a=this.page.loading(f),e=this.domain.article().queryDraft(b),[4,this.domain.article().all(e)];case 1:g=c.sent();h=g.articleList;
if(k=g.domainError)return this.page.showError(a,500,k),[2];this.page.showArticleList(a,h);return[2]}})})};f.prototype.articleVisit=function(a){this.article(a,"articleVisit")};f.prototype.articleBack=function(a){this.article(a,"articleBack")};f.prototype.article=function(b,f){return a(this,void 0,void 0,function(){var a,e,g,h,k;return d(this,function(c){switch(c.label){case 0:return a=this.page.loading(f),[4,this.domain.article().get(b)];case 1:e=c.sent();g=e.code;h=e.article;if(k=e.error)return this.page.showError(a,
g,k),[2];this.page.showArticle(a,h);return[2]}})})};f.prototype.aboutVisit=function(){this.about("aboutVisit")};f.prototype.aboutBack=function(){this.about("aboutBack")};f.prototype.about=function(a){a=this.page.loading(a);this.page.showAbout(a)};f.prototype.profileVisit=function(a){this.profile(a,"profileVisit")};f.prototype.profileBack=function(a){this.profile(a,"profileBack")};f.prototype.profile=function(b,f){return a(this,void 0,void 0,function(){var a,e,g,h,k;return d(this,function(c){switch(c.label){case 0:return a=
this.page.loading(f),[4,this.domain.profile().get({uid:b})];case 1:e=c.sent();g=e.code;h=e.userProfile;if(k=e.err)return this.page.showError(a,g,k),[2];this.page.showProfile(a,h);return[2]}})})};f.prototype.onUserStateChanged=function(f){return a(this,void 0,void 0,function(){var a,c,e,g,h;return d(this,function(d){switch(d.label){case 0:a=b.userBuilder.signedOut();f?(a=b.userBuilder.fromFirebase(f),this.logger.info("signed in as: "+a.name),this.page.presenter.currentUser=a,this.domain.profile().subscribe(f.uid),
this.snackbar.showSignedIn(a.email)):(this.logger.info("signed out"),c=this.page.presenter.currentUser.uid,this.page.presenter.currentUser=a,this.domain.profile().unsubscribe(c));if(!f)return[3,2];this.logger.info("getClaims()");return[4,this.domain.auth().getClaims(f)];case 1:e=d.sent(),g=e.claims,(h=e.err)&&this.logger.error(h),this.page.presenter.currentUser=b.userBuilder.withClaims(this.page.presenter.currentUser,g),d.label=2;case 2:return this.page.render(),this.logger.setUser(this.page.presenter.currentUser),
[2]}})})};f.prototype.closeAuthModal=function(){this.logger.info("app.closeAuthModal()");this.page.presenter.auth=m.Auth.hide;this.page.render()};f.prototype.showSignInOptions=function(){this.logger.info("app.showSignInOptions()");this.page.presenter.auth=m.Auth.signInOptions;this.page.render()};f.prototype.showSignInWithEmail=function(){this.logger.info("app.showSignInWithEmail()");this.page.presenter.auth=m.Auth.signInWithEmail;this.page.render()};f.prototype.showSignUpOptions=function(){this.logger.info("app.showSignUpOptions()");
this.page.presenter.auth=m.Auth.signUpOptions;this.page.render()};f.prototype.showSignUpWithEmail=function(){this.logger.info("app.showSignUpWithEmail()");this.page.presenter.auth=m.Auth.signUpWithEmail;this.page.render()};f.prototype.showSnackbar=function(){this.snackbar.showUndo()};f.prototype.hideSnackbar=function(){this.snackbar.close()};f.prototype.hidePopup=function(){this.logger.info("app.closePopup()");this.page.presenter.popup=new l.HiddenPopup;this.page.render()};f.prototype.showPopup=function(a){this.logger.info("app.showPopup()");
this.page.presenter.popup=new l.ErrorPopup(a);this.page.render()};return f}();e.App=k},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});var a=g(9);k=function(){function d(a){this.page=a.page;this.logger=a.logger;this.clear=this.clear.bind(this);this.slideOut=this.slideOut.bind(this);this.hide=this.hide.bind(this)}d.prototype.showUndo=function(){this.logger.info("snackbar.showUndo()");this.show(new a.ActionSnackbar({text:"Did something",actionText:"undo",action:"undo"}))};d.prototype.showSignedIn=
function(b){this.logger.info("snackbar.showSignedIn()");this.show(new a.SignedInSnackbar({email:b}))};d.prototype.close=function(){var a=this.page.presenter.snackbar.version+1;this.page.presenter.snackbar.version=a;this.slideOut(a)};d.prototype.nextState=function(){var b=this.page.presenter.snackbar.state;switch(b){case a.state.hide:return a.state.slideIN;case a.state.slideOut:return a.state.slideIN;case a.state.slideIN:return a.state.blink;case a.state.blink:return a.state.blink;case a.state.clear:return a.state.blink;
default:return this.logger.error("current state: "+b+" has no next state"),a.state.hide}};d.prototype.show=function(b){var d=this.page.presenter.snackbar.version+1,e=this.nextState();this.logger.info("snackbar.show(); state:"+e+"; version:"+d);b.version=d;b.state=e;this.page.presenter.snackbar=b;this.page.render();switch(e){case a.state.slideIN:setTimeout(this.slideOut,5E3,d);break;case a.state.blink:setTimeout(this.clear,500,d);break;default:this.logger.error("current state:"+a.state+" has no next state"),
setTimeout(this.slideOut,5E3,d)}};d.prototype.clear=function(b){if(this.page.presenter.snackbar.version!==b)this.logger.info("snackbar.clear(); version:"+b+" - skipping");else{var d=this.page.presenter.snackbar.version+1;this.logger.info("snackbar.clear(); clear version:"+b+"; new version:"+d);this.page.presenter.snackbar.version=d;this.page.presenter.snackbar.state=a.state.clear;this.page.render();setTimeout(this.slideOut,4E3,d)}};d.prototype.slideOut=function(b){this.page.presenter.snackbar.version!==
b?this.logger.info("snackbar.slideOut(); version:"+b+" - skipping"):(this.logger.info("snackbar.slideOut(); version:"+b),b+=1,this.page.presenter.snackbar.version=b,this.page.presenter.snackbar.state=a.state.slideOut,this.page.render(),setTimeout(this.hide,600,b))};d.prototype.hide=function(b){this.page.presenter.snackbar.version!==b?this.logger.info("snackbar.hide(); version:"+b+" - skipping"):(this.logger.info("snackbar.hide(); version:"+b),this.page.presenter.snackbar=new a.HiddenSnackbar(this.page.presenter.snackbar.version+
1),this.page.render())};return d}();e.SnackbarHelper=k},function(k,e,g){var a=this&&this.__awaiter||function(a,d,e,g){return new (e||(e=Promise))(function(b,h){function f(a){try{k(g.next(a))}catch(D){h(D)}}function c(a){try{k(g["throw"](a))}catch(D){h(D)}}function k(a){a.done?b(a.value):(new e(function(b){b(a.value)})).then(f,c)}k((g=g.apply(a,d||[])).next())})},d=this&&this.__generator||function(a,d){function b(a){return function(b){return e([a,b])}}function e(b){if(g)throw new TypeError("Generator is already executing.");
for(;f;)try{if(g=1,h&&(c=h[b[0]&2?"return":b[0]?"throw":"next"])&&!(c=c.call(h,b[1])).done)return c;if(h=0,c)b=[0,c.value];switch(b[0]){case 0:case 1:c=b;break;case 4:return f.label++,{value:b[1],done:!1};case 5:f.label++;h=b[1];b=[0];continue;case 7:b=f.ops.pop();f.trys.pop();continue;default:if(!(c=f.trys,c=0<c.length&&c[c.length-1])&&(6===b[0]||2===b[0])){f=0;continue}if(3===b[0]&&(!c||b[1]>c[0]&&b[1]<c[3]))f.label=b[1];else if(6===b[0]&&f.label<c[1])f.label=c[1],c=b;else if(c&&f.label<c[2])f.label=
c[2],f.ops.push(b);else{c[2]&&f.ops.pop();f.trys.pop();continue}}b=d.call(a,f)}catch(D){b=[6,D],h=0}finally{g=c=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}var f={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},g,h,c,k;return k={next:b(0),"throw":b(1),"return":b(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k};Object.defineProperty(e,"__esModule",{value:!0});e.actionName="data-action";k=function(){function b(a){this.logger=
a.logger;this.app=a.app;this.auth=a.domain.auth();this.auth.onAuthStatChanged(this.OnAuthStateChanged.bind(this));document.body.addEventListener("click",this)}b.prototype.handleEvent=function(a){try{var b=a.target;try{if("getAttribute"in b){var d=b.getAttribute(e.actionName);if(d)this[d+"On"+a.type](a)}}catch(f){this.logger.error("actions.handleEvent() failed; type="+a.type+", element="+b+", error="+f.message)}}catch(f){this.logger.error("actions.handleEvent() failed; error="+f.message)}};b.prototype.openSnackbarOnclick=
function(a){this.app.showSnackbar()};b.prototype.openPopupOnclick=function(a){this.app.showPopup({title:"This is a test",main:"This is the body message."})};b.prototype.closeSnackbarOnclick=function(a){this.app.hideSnackbar()};b.prototype.closePopupOnclick=function(a){this.app.hidePopup()};b.prototype.OnAuthStateChanged=function(a){this.app.onUserStateChanged(a)};b.prototype.closeAuthOnclick=function(b){return a(this,void 0,void 0,function(){return d(this,function(a){b.preventDefault();this.app.closeAuthModal();
return[2]})})};b.prototype.signInOptionsOnclick=function(b){return a(this,void 0,void 0,function(){return d(this,function(a){b.preventDefault();this.app.showSignInOptions();return[2]})})};b.prototype.signInWithGoogleOnclick=function(b){return a(this,void 0,void 0,function(){var a,e,f;return d(this,function(d){switch(d.label){case 0:return b.preventDefault(),this.app.closeAuthModal(),[4,this.auth.signInWithGooglePopup()];case 1:return a=d.sent(),e=a.currentUser,f=a.err,null===e&&(this.app.showPopup({title:"Sign in with Google failed",
main:f}),this.logger.error("signInWithGoogleOnclick failed; error="+f)),[2]}})})};b.prototype.signInWithFacebookOnclick=function(b){return a(this,void 0,void 0,function(){var a,e,f;return d(this,function(d){switch(d.label){case 0:return b.preventDefault(),this.app.closeAuthModal(),[4,this.auth.signInWithFacebookPopup()];case 1:return a=d.sent(),e=a.currentUser,f=a.err,null===e&&(this.app.showPopup({title:"Sign in with Facebook failed",main:f}),this.logger.error("signInWithFacebookOnclick failed; error="+
f)),[2]}})})};b.prototype.signInWithTwitterOnclick=function(b){return a(this,void 0,void 0,function(){var a,e,f;return d(this,function(d){switch(d.label){case 0:return b.preventDefault(),this.app.closeAuthModal(),[4,this.auth.signInWithTwitterPopup()];case 1:return a=d.sent(),e=a.currentUser,f=a.err,null===e&&(this.app.showPopup({title:"Sign in with Twitter failed",main:f}),this.logger.error("signInWithTwitterOnclick failed; error="+f)),[2]}})})};b.prototype.signInWithEmailOnclick=function(b){return a(this,
void 0,void 0,function(){return d(this,function(a){b.preventDefault();this.app.showSignInWithEmail();return[2]})})};b.prototype.signUpOptionsOnclick=function(b){return a(this,void 0,void 0,function(){return d(this,function(a){b.preventDefault();this.app.showSignUpOptions();return[2]})})};b.prototype.signUpWithEmailOnclick=function(b){return a(this,void 0,void 0,function(){return d(this,function(a){b.preventDefault();this.app.showSignUpWithEmail();return[2]})})};b.prototype.signOutOnclick=function(b){return a(this,
void 0,void 0,function(){var a;return d(this,function(d){switch(d.label){case 0:return b.preventDefault(),[4,this.auth.signOut()];case 1:return a=d.sent(),a||(this.app.showPopup({title:"Sign out failed",main:"We could not sign you out"}),this.logger.error("signOutOnclick failed!")),[2]}})})};b.prototype.cleanup=function(){document.body.removeEventListener("click",this)};return b}();e.ActionHandler=k},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});var a=g(50),d=g(55),b=g(1);e.router=
function(e){var g=a();g.get(b.path.articles,function(a){var b=d.url.Query()("page_token");"pushstate"===a.type?e.rootVisit(b):e.rootBack(b)});g.get(b.path.articleRegExp,function(a){var b=a.params.id;"pushstate"===a.type?e.articleVisit(b):e.articleBack(b)});g.get(b.path.about,function(a){"pushstate"===a.type?e.aboutVisit():e.aboutBack()});g.get(b.path.profileReqExp,function(a){var b=a.params.id;"pushstate"===a.type?e.profileVisit(b):e.profileBack(b)});g.get("*",function(a){window.location.reload(!1)})}},
function(k,e,g){(function(a){var d=function(){function b(a,b){"string"!==typeof a&&(a=a.toString(),a=a.slice(1,a.lastIndexOf("/")));return f(a,b)}function d(a,b){for(var c,d={},e=1,f=a.length;e<f;e++)(c=a[e])&&(d[b[e-1].name]=c);return d}function e(){this.parentNode.removeChild(this)}function k(){this._params={};this._paths={};a.addEventListener("popstate",this,!1);a.addEventListener("pushstate",this,!1)}g(52);var f=g(53),n=k.prototype;n.get=function(a){var c=[],d=b(a,c);c=this._paths[d]||(this._paths[d]=
{keys:c,cb:[],re:d});d=1;for(var e=arguments.length;d<e;d++)c.cb.push(arguments[d]);return this};n.delete=function(a){var c=b(a,[]);c=this._paths[c];for(var d=1,e=arguments.length;d<e;d++){var f=arguments[d];f=c?c.cb.lastIndexOf(f):-1;-1<f&&c.cb.splice(f,1)}return this};n.use=function(a,b){a=[].concat(a);for(var c=0,d=a.length;c<d;c++)this.get(a[c],b);return this};n.param=function(a,b){a=[].concat(a);for(var c=0,d=a.length;c<d;c++)this._params[a[c]]=b;return this};n.navigate=function(a,b){switch(!0){case !!b:switch(!0){case !!b.replace:case !!b.replaceState:history.replaceState(history.state,
document.title,a)}break;case a===location.pathname+location.search:this.handleEvent({type:"samestate"});break;default:var c=document;b=c.documentElement;c=c.createElement("a");c.href=a;c.onclick=e;b.insertBefore(c,b.firstChild);c.click()}return this};n.handleEvent=function(a){var b=this._paths,e;for(e in b)if(b.hasOwnProperty(e)){var f=b[e],g=f.re.exec(location.pathname);if(g){var h=[],k=[],l=this._params,m={params:d(g,f.keys),type:a.type},n=0,q=f.cb.length;for(e in m.params)l.hasOwnProperty(e)&&
k.push(e);(function E(){k.length?(e=k.shift(),l[e](m,E,m.params[e])):function R(){if(n<q){var a=f.cb[n++];0>h.lastIndexOf(a)?(h.push(a),a(m,R)):R()}}()})();break}}};return function(){return new k}}();k.exports=(a.hyperHTML||{}).app=d}).call(e,g(51))},function(k,e){e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(g){"object"===typeof window&&(e=window)}k.exports=e},function(k,e){document.addEventListener("click",function(e){var a=e.target;var d=(a.closest||function(b){for(;a&&
a.nodeName!==b;)a=a.parentNode;return a}).call(a,"A");if(d&&/^(?:_self)?$/i.test(d.target)&&!d.hasAttribute("download")&&"external"!==d.getAttribute("rel")){var b=new URL(d.href);d=location;if(b.origin===d.origin){var g=b.pathname+b.search;b=b.hash;var k=!0;e.preventDefault();if(g===d.pathname+d.search)/^#[a-z][a-z0-9.:_-]+$/i.test(b)&&(a=document.querySelector(b+',[name="'+b.slice(1)+'"]'))&&(e.preventDefault=function(){k=!1},setTimeout(function(){k&&a.scrollIntoView(!0)})),history.replaceState(history.state,
document.title,g+b);else{var m=new CustomEvent("pushstate");m.state=d.href;setTimeout(function(){dispatchEvent(m);window.onpushstate&&onpushstate(m)});history.pushState(m.state,document.title,g+b)}}}},!0)},function(k,e,g){function a(a,b){var d=[],e=0,f=0,g="";b=b&&b.delimiter||"/";for(var h;null!=(h=c.exec(a));){var k=h[0],p=h[1],m=h.index;g+=a.slice(f,m);f=m+k.length;if(p)g+=p[1];else{var n=a[f];k=h[2];p=h[3];var q=h[4],v=h[5],x=h[6];m=h[7];g&&(d.push(g),g="");n=null!=k&&null!=n&&n!==k;var z="+"===
x||"*"===x;x="?"===x||"*"===x;h=h[2]||b;q=q||v;d.push({name:p||e++,prefix:k||"",delimiter:h,optional:x,repeat:z,partial:n,asterisk:!!m,pattern:q?q.replace(/([=!:$\/()])/g,"\\$1"):m?".*":"[^"+l(h)+"]+?"})}}f<a.length&&(g+=a.substr(f));g&&d.push(g);return d}function d(a){return encodeURI(a).replace(/[\/?#]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function b(a){return encodeURI(a).replace(/[?#]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function h(a){for(var c=
Array(a.length),e=0;e<a.length;e++)"object"===typeof a[e]&&(c[e]=new RegExp("^(?:"+a[e].pattern+")$"));return function(e,f){var g="";e=e||{};f=(f||{}).pretty?d:encodeURIComponent;for(var h=0;h<a.length;h++){var k=a[h];if("string"===typeof k)g+=k;else{var l=e[k.name];if(null==l)if(k.optional){k.partial&&(g+=k.prefix);continue}else throw new TypeError('Expected "'+k.name+'" to be defined');if(q(l)){if(!k.repeat)throw new TypeError('Expected "'+k.name+'" to not repeat, but received `'+JSON.stringify(l)+
"`");if(0===l.length)if(k.optional)continue;else throw new TypeError('Expected "'+k.name+'" to not be empty');for(var m=0;m<l.length;m++){var p=f(l[m]);if(!c[h].test(p))throw new TypeError('Expected all "'+k.name+'" to match "'+k.pattern+'", but received `'+JSON.stringify(p)+"`");g+=(0===m?k.prefix:k.delimiter)+p}}else{p=k.asterisk?b(l):f(l);if(!c[h].test(p))throw new TypeError('Expected "'+k.name+'" to match "'+k.pattern+'", but received "'+p+'"');g+=k.prefix+p}}}return g}}function l(a){return a.replace(/([.+*?=^!:${}()[\]|\/\\])/g,
"\\$1")}function m(a,b){a.keys=b;return a}function f(a,b,c){q(b)||(c=b||c,b=[]);c=c||{};for(var d=c.strict,e=!1!==c.end,f="",g=0;g<a.length;g++){var h=a[g];if("string"===typeof h)f+=l(h);else{var k=l(h.prefix),n="(?:"+h.pattern+")";b.push(h);h.repeat&&(n+="(?:"+k+n+")*");n=h.optional?h.partial?k+"("+n+")?":"(?:"+k+"("+n+"))?":k+"("+n+")";f+=n}}a=l(c.delimiter||"/");g=f.slice(-a.length)===a;d||(f=(g?f.slice(0,-a.length):f)+"(?:"+a+"(?=$))?");return m(new RegExp("^"+(e?f+"$":f+(d&&g?"":"(?="+a+"|$)")),
c.sensitive?"":"i"),b)}function n(b,c,d){q(c)||(d=c||d,c=[]);d=d||{};if(b instanceof RegExp){if(d=b.source.match(/\((?!\?)/g))for(var e=0;e<d.length;e++)c.push({name:e,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return m(b,c)}if(q(b)){e=[];for(var g=0;g<b.length;g++)e.push(n(b[g],c,d).source);b=new RegExp("(?:"+e.join("|")+")",d.sensitive?"":"i");return m(b,c)}return f(a(b,d),c,d)}var q=g(54);k.exports=n;k.exports.parse=a;k.exports.compile=function(b,c){return h(a(b,
c))};k.exports.tokensToFunction=h;k.exports.tokensToRegExp=f;var c=/(\\.)|([\/.])?(?:(?:\:(\w+)(?:\(((?:\\.|[^\\()])+)\))?|\(((?:\\.|[^\\()])+)\))([+*?])?|(\*))/g},function(k,e){k.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(k,e,g){Object.defineProperty(e,"__esModule",{value:!0});k=function(){function d(){}d.Query=function(b){var d=new a,e=function(a){try{return d[a]||""}catch(c){return""}};try{b||(b=window.location.search.substring(1));var g=
decodeURIComponent(b);if(!g||""===g)return e;b=0;for(var f=g.split("&");b<f.length;b++){var k=f[b].split("=");2===k.length&&(d[k[0]]=k[1])}return e}catch(q){return e}};return d}();e.url=k;var a=function(){return function(){}}()}])}]);
